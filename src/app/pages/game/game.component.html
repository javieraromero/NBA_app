<h1> NBA Game </h1>

<table style="width:85%" id="score">
    <tr>
        <td style="width: 40%">
            <a [routerLink]="['/team', game_data['vTeamId'], game_data['seasonYear']]">
                <img src="{{ game_data['vTeamLogoLocation'] }}" height="85px">
            </a>
        </td>
        <td style="width: 20%">
            {{ game_data["top_label"] }}
            <br>
            {{ game_data["bottom_label"] }}
        </td>
        <td style="width: 40%">
            <a [routerLink]="['/team', game_data['hTeamId'], game_data['seasonYear']]">
                <img src="{{ game_data['hTeamLogoLocation'] }}" height="85px">
            </a>
        </td>
    </tr>
    <tr>
        <td>
            {{ game_data["vTeamRecord"] }}
        </td>
        <td>
            
        </td>
        <td>
            {{ game_data["hTeamRecord"] }}
        </td>
    </tr>
    <tr *ngIf="game_data['nugget']">
        <td colspan="3">{{ game_data["nugget"] }}</td>
    </tr>
</table>

<div class="container mt-3">
    <span>Game Information</span>
    <table style="width:70%" id="info">
        <tr>
            <td width="50%"> Date </td>
            <td width="50%"> {{ longDate }} </td>
        </tr>
        <tr>
            <td> Arena Name </td>
            <td> {{ game_data["arena_name"] }} </td>
        </tr>
        <tr>
            <td> Location </td>
            <td> {{ game_data["arena_location"] }} </td>
        </tr>
        <tr *ngIf="game_data['attendance']">
            <td> Attendance </td>
            <td> {{ game_data["attendance"] }} </td>
        </tr>
        <tr>
            <td> Series Record </td>
            <td> {{ game_data["vTeamSeriesRecord"] }} </td>
        </tr>
        <tr *ngIf="game_data['broadcastersNational']">
            <td> National Broadcast </td>
            <td> {{ game_data["broadcastersNational"] }} </td>
        </tr>
        <tr *ngIf="game_data['vTeamBroadcasters']">
            <td> Visitor Broadcast </td>
            <td> {{ game_data["vTeamBroadcasters"] }} </td>
        </tr>
        <tr *ngIf="game_data['hTeamBroadcasters']">
            <td> Home Broadcast </td>
            <td> {{ game_data["hTeamBroadcasters"] }} </td>
        </tr>
        <tr *ngIf="game_data['officials']">
            <td> Officials </td>
            <td> {{ game_data["officials"] }} </td>
        </tr>
        <tr *ngIf="statusNum >= 2">
            <td colspan="2"><a routerLink="pbp"> Play-by-play </a></td>
        </tr>
        <tr *ngIf="game_data['previousMatchup_gameDate']">
            <td colspan="2"><a href="date/{{ game_data['previousMatchup_gameDate'] }}/{{ game_data['previousMatchup_gameId'] }}"> Previous matchup </a></td>
        </tr>
    </table>

    <div *ngIf="game_data['isRecapArticleAvail']">
        <h3>{{ recap_data["title"] }} </h3>
        <h5>{{ recap_data["author"] }}, {{ recap_data["authorTitle"] }} </h5>
    
        <p *ngFor="let paragraph of recap">
            {{ paragraph }}
        </p>
    </div>
    
    <div *ngIf="game_data['isPreviewArticleAvail']">
        <h3>{{ preview_data["title"] }} </h3>
    
        <p *ngFor="let paragraph of preview">
            {{ paragraph }}
        </p>
    </div>

    <div *ngIf="statusNum === 2 || statusNum === 3">
        <span>Team Totals</span>
        <table style="width:75%" id="totals">
            <tr>
                <th width="50%" style="visibility: hidden">  </th>
                <th width="25%" style="text-align: center;"> {{ visiting_team }} </th>
                <th width="25%" style="text-align: center;"> {{ home_team }} </th>
            </tr>
            <tr>
                <td> Fast Break Points </td>
                <td> {{ visiting_team_stats["fastBreakPoints"] }} </td>
                <td> {{ home_team_stats["fastBreakPoints"] }} </td>
            </tr>
            <tr>
                <td> Points in the Paint </td>
                <td> {{ visiting_team_stats["pointsInPaint"] }} </td>
                <td> {{ home_team_stats["pointsInPaint"] }} </td>
            </tr>
            <tr>
                <td> Second Chance Points </td>
                <td> {{ visiting_team_stats["secondChancePoints"] }} </td>
                <td> {{ home_team_stats["secondChancePoints"] }} </td>
            </tr>
            <tr>
                <td> Points Off Turnovers </td>
                <td> {{ visiting_team_stats["pointsOffTurnovers"] }} </td>
                <td> {{ home_team_stats["pointsOffTurnovers"] }} </td>
            </tr>
            <tr>
                <td> Points </td>
                <td> {{ visiting_team_stats["points"] }} </td>
                <td> {{ home_team_stats["points"] }} </td>
            </tr>
            <tr>
                <td> Field Goals Made </td>
                <td> {{ visiting_team_stats["fgm"] }} </td>
                <td> {{ home_team_stats["fgm"] }} </td>
            </tr>
            <tr>
                <td> Field Goals Attempted </td>
                <td> {{ visiting_team_stats["fga"] }} </td>
                <td> {{ home_team_stats["fga"] }} </td>
            </tr>
            <tr>
                <td> Field Goal % </td>
                <td> {{ visiting_team_stats["fgp"] }} </td>
                <td> {{ home_team_stats["fgp"] }} </td>
            </tr>
            <tr>
                <td> Free Throws Made </td>
                <td> {{ visiting_team_stats["ftm"] }} </td>
                <td> {{ home_team_stats["ftm"] }} </td>
            </tr>
            <tr>
                <td> Free Throws Attempted </td>
                <td> {{ visiting_team_stats["fta"] }} </td>
                <td> {{ home_team_stats["fta"] }} </td>
            </tr>
            <tr>
                <td> Free Throw % </td>
                <td> {{ visiting_team_stats["ftp"] }} </td>
                <td> {{ home_team_stats["ftp"] }} </td>
            </tr>
            <tr>
                <td> Three Pointers Made </td>
                <td> {{ visiting_team_stats["tpm"] }} </td>
                <td> {{ home_team_stats["tpm"] }} </td>
            </tr>
            <tr>
                <td> Three Pointers Attempted </td>
                <td> {{ visiting_team_stats["tpa"] }} </td>
                <td> {{ home_team_stats["tpa"] }} </td>
            </tr>
            <tr>
                <td> Three Point % </td>
                <td> {{ visiting_team_stats["tpp"] }} </td>
                <td> {{ home_team_stats["tpp"] }} </td>
            </tr>
            <tr>
                <td> Offensive Rebounds </td>
                <td> {{ visiting_team_stats["offReb"] }} </td>
                <td> {{ home_team_stats["offReb"] }} </td>
            </tr>
            <tr>
                <td> Defensive Rebounds </td>
                <td> {{ visiting_team_stats["defReb"] }} </td>
                <td> {{ home_team_stats["defReb"] }} </td>
            </tr>
            <tr>
                <td> Total Rebounds </td>
                <td> {{ visiting_team_stats["totReb"] }} </td>
                <td> {{ home_team_stats["totReb"] }} </td>
            </tr>
            <tr>
                <td> Assists </td>
                <td> {{ visiting_team_stats["assists"] }} </td>
                <td> {{ home_team_stats["assists"] }} </td>
            </tr>
            <tr>
                <td> Personal Fouls </td>
                <td> {{ visiting_team_stats["pFouls"] }} </td>
                <td> {{ home_team_stats["pFouls"] }} </td>
            </tr>
            <tr>
                <td> Steals </td>
                <td> {{ visiting_team_stats["steals"] }} </td>
                <td> {{ home_team_stats["steals"] }} </td>
            </tr>
            <tr>
                <td> Turnovers </td>
                <td> {{ visiting_team_stats["turnovers"] }} </td>
                <td> {{ home_team_stats["turnovers"] }} </td>
            </tr>
            <tr>
                <td> Blocks </td>
                <td> {{ visiting_team_stats["blocks"] }} </td>
                <td> {{ home_team_stats["blocks"] }} </td>
            </tr>
            <tr>
                <td> Total Fouls </td>
                <td> {{ visiting_team_stats["team_fouls"] }} </td>
                <td> {{ home_team_stats["team_fouls"] }} </td>
            </tr>
        </table>
        <span>Boxscore</span>
        <table style="width:100%" id="visiting_team">
            <tr>
                <th colspan="22" style="text-align: center;">{{ visiting_team }}</th>
            </tr>
            <tr>
                <th> PLAYER </th>
                <th> POS </th>
                <th> PTS </th>
                <th> MIN </th>
                <th> FGM </th>
                <th> FGA </th>
                <th> FG% </th>
                <th> FTM </th>
                <th> FTA </th>
                <th> FT% </th>
                <th> 3PM </th>
                <th> 3PA </th>
                <th> 3P% </th>
                <th> OREB </th>
                <th> DREB </th>
                <th> REB </th>
                <th> AST </th>
                <th> PF </th>
                <th> STL </th>
                <th> TOV </th>
                <th> BLK </th>
                <th> +/- </th>
            </tr>
            <tr *ngFor="let player of visiting_players">
                <td><a [routerLink]="['/player', player['personId'], game_data['seasonYear']]"> {{ player["firstName"] }} {{ player["lastName"] }} </a></td>
                <td colspan="21" *ngIf="player['dnp']; else elseBlock"> {{ player["dnp"] }} </td>
                <ng-template #elseBlock>
                    <td> {{ player["pos"] }} </td>
                    <td> {{ player["points"] }} </td>
                    <td> {{ player["min"] }} </td>
                    <td> {{ player["fgm"] }} </td>
                    <td> {{ player["fga"] }} </td>
                    <td> {{ player["fgp"] }} </td>
                    <td> {{ player["ftm"] }} </td>
                    <td> {{ player["fta"] }} </td>
                    <td> {{ player["ftp"] }} </td>
                    <td> {{ player["tpm"] }} </td>
                    <td> {{ player["tpa"] }} </td>
                    <td> {{ player["tpp"] }} </td>
                    <td> {{ player["offReb"] }} </td>
                    <td> {{ player["defReb"] }} </td>
                    <td> {{ player["totReb"] }} </td>
                    <td> {{ player["assists"] }} </td>
                    <td> {{ player["pFouls"] }} </td>
                    <td> {{ player["steals"] }} </td>
                    <td> {{ player["turnovers"] }} </td>
                    <td> {{ player["blocks"] }} </td>
                    <td> {{ player["plusMinus"] }} </td>
                </ng-template>
            </tr>
        </table>
        <table style="width:100%" id="home_team">
            <tr>
                <th colspan="22" style="text-align: center;">{{ home_team }}</th>
            </tr>
            <tr>
                <th> PLAYER </th>
                <th> POS </th>
                <th> PTS </th>
                <th> MIN </th>
                <th> FGM </th>
                <th> FGA </th>
                <th> FG% </th>
                <th> FTM </th>
                <th> FTA </th>
                <th> FT% </th>
                <th> 3PM </th>
                <th> 3PA </th>
                <th> 3P% </th>
                <th> OREB </th>
                <th> DREB </th>
                <th> REB </th>
                <th> AST </th>
                <th> PF </th>
                <th> STL </th>
                <th> TOV </th>
                <th> BLK </th>
                <th> +/- </th>
            </tr>
            <tr *ngFor="let player of home_players">
                <td><a [routerLink]="['/player', player['personId'], game_data['seasonYear']]"> {{ player["firstName"] }} {{ player["lastName"] }} </a></td>
                <td colspan="21" *ngIf="player['dnp']; else elseBlock"> {{ player["dnp"] }} </td>
                <ng-template #elseBlock>
                    <td> {{ player["pos"] }} </td>
                    <td> {{ player["points"] }} </td>
                    <td> {{ player["min"] }} </td>
                    <td> {{ player["fgm"] }} </td>
                    <td> {{ player["fga"] }} </td>
                    <td> {{ player["fgp"] }} </td>
                    <td> {{ player["ftm"] }} </td>
                    <td> {{ player["fta"] }} </td>
                    <td> {{ player["ftp"] }} </td>
                    <td> {{ player["tpm"] }} </td>
                    <td> {{ player["tpa"] }} </td>
                    <td> {{ player["tpp"] }} </td>
                    <td> {{ player["offReb"] }} </td>
                    <td> {{ player["defReb"] }} </td>
                    <td> {{ player["totReb"] }} </td>
                    <td> {{ player["assists"] }} </td>
                    <td> {{ player["pFouls"] }} </td>
                    <td> {{ player["steals"] }} </td>
                    <td> {{ player["turnovers"] }} </td>
                    <td> {{ player["blocks"] }} </td>
                    <td> {{ player["plusMinus"] }} </td>
                </ng-template>
            </tr>
        </table>
    </div>
</div>
